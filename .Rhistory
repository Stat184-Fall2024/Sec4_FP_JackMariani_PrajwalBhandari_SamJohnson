# now that we have the data in a tidy, clean and easy to work with format, we can start the analysis.
data <- create_clean_data()
data %>%
write_sheet(
ss =
gs4_get(
"https://docs.google.com/spreadsheets/d/1GT8UOmD4l2j88wCLfCAlh_R7r0jWCtsmoL84kVvDOlc/edit?usp=sharing"),
sheet = 'main'
)
data <- read_sheet(
ss = "https://docs.google.com/spreadsheets/d/1GT8UOmD4l2j88wCLfCAlh_R7r0jWCtsmoL84kVvDOlc/edit?usp=sharing"
)
data %>%
group_by(state) %>%
summarize(
mean_r = mean(r_percent),
mean_d = mean(d_percent),
diff = mean_d - mean_r
) %>%
mutate(
diff = order(diff, aesc)
) %>% ggplot(
aes(x = state, y = diff)
) +
geom_point() +
geom_line() +
coord_flip()
?order
data %>%
group_by(state) %>%
summarize(
mean_r = mean(r_percent),
mean_d = mean(d_percent),
diff = mean_d - mean_r
) %>%
mutate(
diff = order(diff, decreasing = TRUE)
) %>% ggplot(
aes(x = state, y = diff)
) +
geom_point() +
coord_flip()
data %>%
group_by(state) %>%
summarize(
mean_r = mean(r_percent),
mean_d = mean(d_percent),
diff = mean_d - mean_r
) %>%
mutate(
diff = order(diff, decreasing = TRUE),
state = fct_reorder(state, diff, .desc = TRUE)
) %>% ggplot(
aes(x = state, y = diff)
) +
geom_point() +
coord_flip()
data %>%
group_by(state) %>%
summarize(
mean_r = mean(r_percent),
) %>%
mutate(
diff = order(mean_r, decreasing = TRUE),
state = fct_reorder(state, mean_r, .desc = TRUE)
) %>% ggplot(
aes(x = state, y = diff)
) +
geom_point() +
coord_flip()
()
data %>%
group_by(state) %>%
summarize(
mean_r = mean(r_percent),
) %>%
mutate(
mean_r = order(mean_r, decreasing = TRUE),
state = fct_reorder(state, mean_r, .desc = TRUE)
) %>% ggplot(
aes(x = state, y = diff)
) +
geom_point() +
coord_flip()
data %>%
group_by(state) %>%
summarize(
mean_r = mean(r_percent),
) %>%
mutate(
mean_r = order(mean_r, decreasing = TRUE),
state = fct_reorder(state, mean_r, .desc = TRUE)
) %>% ggplot(
aes(x = state, y = mean_r)
) +
geom_point() +
coord_flip()
data %>%
group_by(state) %>%
summarize(
mean_r = mean(r_percent),
)
print(n = 50)
data %>%
group_by(state) %>%
summarize(
mean_r = mean(r_percent),
) %>%
print(n=51)
data %>%
group_by(state) %>%
summarize(
mean_r = mean(r_percent),
) %>%
ggplot(aes(x= state, y = mean_r))+geom_point()
data %>%
group_by(state) %>%
summarize(
mean_r = mean(r_percent),
) %>%
ggplot(aes(x = state, y = mean_r)) +
geom_point() +
flip_coord()
data %>%
group_by(state) %>%
summarize(
mean_r = mean(r_percent),
) %>%
ggplot(aes(x = state, y = mean_r)) +
geom_point() +
flip_coords()
data %>%
group_by(state) %>%
summarize(
mean_r = mean(r_percent),
) %>%
ggplot(aes(x = state, y = mean_r)) +
geom_point() +
coord_flip()
data %>%
group_by(state) %>%
summarize(
mean_r = mean(r_percent),
) %>%
mutate(
mean_r = order(mean_r, decreasing = TRUE),
state = fct_reorder(state, mean_r, .desc = TRUE)
) %>%
ggplot(aes(x = state, y = mean_r)) +
geom_point() +
coord_flip()
data %>%
group_by(state) %>%
summarize(
mean_r = mean(r_percent),
) %>%
mutate(
mean_r = order(mean_r, decreasing = TRUE),
) %>%
ggplot(aes(x = state, y = mean_r)) +
geom_point() +
coord_flip()
data %>%
group_by(state) %>%
summarize(
mean_r = mean(r_percent),
) %>%
ggplot(aes(x = state, y = mean_r)) +
geom_point() +
coord_flip()
library(esquisse)
library(tidyverse)
library(rvest)
library(ggplot2)
library(tidyr)
library(dplyr)
library(rvest)
library(readr)
library(googlesheets4)
data %>%
group_by(state) %>%
summarize(
mean_r = mean(r_percent),
) %>%
ggplot(aes(x = state, y = mean_r)) +
geom_point() +
coord_flip()
data %>%
group_by(year) %>%
summarize(d_ev = sum(d_ev),
r_ev = sum(r_ev),
o_ev = sum(other_ev)
)  %>%
ggplot(aes(x = year, y = d_ev+r_ev+o+ev)) +
geom_point()+
geom_color()
data %>%
group_by(year) %>%
summarize(d_ev = sum(d_ev),
r_ev = sum(r_ev),
o_ev = sum(other_ev)
)  %>%
ggplot(aes(x = year, y = d_ev+r_ev+o+ev)) +
geom_point()
data %>%
group_by(year) %>%
summarize(d_ev = sum(d_ev),
r_ev = sum(r_ev),
o_ev = sum(other_ev)
)  %>%
ggplot(aes(x = year, y = d_ev+r_ev+o_ev)) +
geom_point()
data %>%
group_by(year) %>%
summarize(d_ev = sum(d_ev),
r_ev = sum(r_ev),
o_ev = sum(other_ev)
)  %>%
ggplot(aes(x = year, y = d_ev)) +
geom_point()
data %>%
group_by(year) %>%
summarize(d_ev = sum(d_ev),
r_ev = sum(r_ev),
o_ev = sum(other_ev)
)  %>%
ggplot(
aes(x = year, y = c(d_ev, r_ev, o_ev)) )+
geom_point()
geom_point()
geom_point()
data %>%
group_by(year) %>%
summarize(d_ev = sum(d_ev),
r_ev = sum(r_ev),
o_ev = sum(other_ev)
)  %>%
ggplot(
aes(x = year, y = d_ev) +
geom_point()
)
data %>%
group_by(year) %>%
summarize(d_ev = sum(d_ev),
r_ev = sum(r_ev),
o_ev = sum(other_ev)
)  %>%
ggplot(
aes(x = year, y = d_ev)) +
geom_point()
data %>%
group_by(state) %>%
summarize(
mean_r = mean(r_percent),
) %>%
ggplot(aes(x = state, y = mean_r)) +
geom_point() +
coord_flip()
?ggplot
data %>%
group_by(state) %>%
summarize(
mean_r = mean(r_percent),
) %>%
mutate(mean_r = fct_reorder(state, mean_r)) %>%
ggplot(aes(x = state, y = mean_r)) +
geom_point() +
coord_flip()
data %>%
group_by(state) %>%
summarize(
mean_r = mean(r_percent),
) %>%
mutate(state = fct_reorder(state, mean_r)) %>%
ggplot(aes(x = state, y = mean_r)) +
geom_point() +
coord_flip()
data %>%
group_by(state) %>%
summarize(
mean_r = mean(r_percent),
) %>%
mutate(state = fct_reorder(state, mean_r)) %>%
ggplot(aes(x = state, y = mean_r, color = if_else(mean_r<50, 'blue','red'))) +
geom_line() +
coord_flip()
data %>%
group_by(state) %>%
summarize(
mean_r = mean(r_percent),
) %>%
mutate(state = fct_reorder(state, mean_r)) %>%
ggplot(aes(group = state, y = mean_r, color = if_else(mean_r<50, 'blue','red'))) +
geom_line() +
coord_flip()
data %>%
group_by(state) %>%
summarize(
mean_r = mean(r_percent),
) %>%
mutate(state = fct_reorder(state, mean_r)) %>%
ggplot(aes(x = state, y = mean_r, color = if_else(mean_r<50, 'blue','red'))) +
geom_line() +
coord_flip()
data %>%
group_by(state) %>%
summarize(
mean_r = mean(r_percent),
) %>%
mutate(state = fct_reorder(state, mean_r)) %>%
ggplot(aes(x = state, y = mean_r, color = if_else(mean_r < 50, 'blue','red'))) +
geom_smooth() +
coord_flip()
data %>%
group_by(state) %>%
summarize(
mean_r = mean(r_percent),
) %>%
mutate(state = fct_reorder(state, mean_r)) %>%
ggplot(aes(x = state, y = mean_r, color = if_else(mean_r < 50, 'blue','red'))) +
geom_point() +
coord_flip()
data %>%
group_by(state) %>%
summarize(
mean_r = mean(r_percent),
) %>%
mutate(state = fct_reorder(state, mean_r)) %>%
ggplot(aes(x = state, y = mean_r, color = if_else(mean_r < 50, 'red','blue'))) +
geom_point() +
coord_flip()
ggplot() +
geom_point(data = rep_dem_other, aes(x = state, y = mean_r, fill = 'red', color = 'red'))+
geom_point(data = rep_dem_other, aes(x = state, y = mean_d, fill = 'blue', color = 'blue')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_r, fill = 'green', color = 'green')) +
coord_flip()
rep_dem_other <- data %>%
group_by(state) %>%
summarize(
mean_r = mean(r_percent),
mead_d = mean(d_percent),
mean_o = mean(other_percent)
) %>%
mutate(state = fct_reorder(state, mean_r))
ggplot() +
geom_point(data = rep_dem_other, aes(x = state, y = mean_r, fill = 'red', color = 'red'))+
geom_point(data = rep_dem_other, aes(x = state, y = mean_d, fill = 'blue', color = 'blue')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_r, fill = 'green', color = 'green')) +
coord_flip()
View(rep_dem_other)
rep_dem_other <- data %>%
group_by(state) %>%
summarize(
mean_r = mean(r_percent),
mean_d = mean(d_percent),
mean_o = mean(other_percent)
) %>%
mutate(state = fct_reorder(state, mean_r))
ggplot() +
geom_point(data = rep_dem_other, aes(x = state, y = mean_r, fill = 'red', color = 'red')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_d, fill = 'blue', color = 'blue')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_o, fill = 'green', color = 'green')) +
coord_flip()
rep_dem_other <- data %>%
group_by(state) %>%
summarize(
mean_r = mean(r_percent),
mean_d = mean(d_percent),
mean_o = mean(other_percent)
)
ggplot() +
geom_point(data = rep_dem_other, aes(x = state, y = mean_r, fill = 'red', color = 'red')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_d, fill = 'blue', color = 'blue')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_o, fill = 'green', color = 'green')) +
coord_flip()
rep_dem_other <- data %>%
group_by(state) %>%
summarize(
mean_r = mean(r_percent),
mean_d = mean(d_percent),
mean_o = mean(other_percent)
) %>%
mutate(state = fct_reorder(state, mean_r))
ggplot() +
geom_point(data = rep_dem_other, aes(x = state, y = mean_r, fill = 'red', color = 'red')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_d, fill = 'blue', color = 'blue')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_o, fill = 'green', color = 'green')) +
coord_flip()
ggplot() +
geom_point(data = rep_dem_other, aes(x = state, y = mean_r, fill = 'red', color = 'red')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_d, fill = 'blue', color = 'blue')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_o, fill = 'green', color = 'green'))
ggplot() +
geom_point(data = rep_dem_other, aes(x = state, y = mean_r, color = 'red')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_d, color = 'blue')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_o, color = 'green'))
ggplot() +
geom_point(data = rep_dem_other, aes(x = state, y = mean_r, color = 'red')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_d, color = 'blue')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_o, color = 'green')) +
xlab(rotation = 90)
ggplot() +
geom_point(data = rep_dem_other, aes(x = state, y = mean_r, color = 'red')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_d, color = 'blue')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_o, color = 'green')) +
x_ticks(rotation = 90)
ggplot() +
geom_point(data = rep_dem_other, aes(x = state, y = mean_r, color = 'red')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_d, color = 'blue')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_o, color = 'green')) +
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
ggplot() +
geom_point(data = rep_dem_other, aes(x = state, y = mean_r, color = 'red')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_d, color = 'blue')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_o, color = 'green')) +
theme(axis.text.x = element_text(angle = 80, vjust = 0.5, hjust=1))
ggplot() +
geom_point(data = rep_dem_other, aes(x = state, y = mean_r, color = 'red')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_d, color = 'blue')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_o, color = 'green')) +
theme(axis.text.x = element_text(angle = 80, vjust = 1, hjust = 1))
ggplot() +
geom_point(data = rep_dem_other, aes(x = state, y = mean_r, color = 'red')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_d, color = 'blue')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_o, color = 'green')) +
theme(axis.text.x = element_text(angle = 80, vjust = 0.8, hjust = 1))
ggplot() +
geom_point(data = rep_dem_other, aes(x = state, y = mean_r, color = 'red')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_d, color = 'blue')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_o, color = 'green')) +
theme(axis.text.x = element_text(angle = 80, vjust = 0.95, hjust = 1))
ggplot() +
geom_point(data = rep_dem_other, aes(x = state, y = mean_r, color = 'blue')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_d, color = 'red')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_o, color = 'green')) +
theme(axis.text.x = element_text(angle = 80, vjust = 0.95, hjust = 1))
rep_dem_other <- data %>%
group_by(state) %>%
summarize(
mean_r = mean(r_percent),
mean_d = mean(d_percent),
mean_o = mean(other_percent)
) %>%
mutate(state = fct_reorder(state, mean_r)) %>%
ggplot() +
geom_point(data = rep_dem_other, aes(x = state, y = mean_r, color = 'blue')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_d, color = 'red')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_o, color = 'green')) +
theme(axis.text.x = element_text(angle = 80, vjust = 0.95, hjust = 1))
rep_dem_other <- data %>%
group_by(state) %>%
summarize(
mean_r = mean(r_percent),
mean_d = mean(d_percent),
mean_o = mean(other_percent)
) %>%
mutate(state = fct_reorder(state, mean_r)) %>%
ggplot() +
geom_point(data = rep_dem_other, aes(x = state, y = mean_r, color = 'blue')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_d, color = 'red')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_o, color = 'green')) +
theme(axis.text.x = element_text(angle = 80, vjust = 0.95, hjust = 1))
ggplot() +
geom_point(data = rep_dem_other, aes(x = state, y = mean_r, color = 'blue')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_d, color = 'red')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_o, color = 'green')) +
theme(axis.text.x = element_text(angle = 80, vjust = 0.95, hjust = 1))
rep_dem_other <- data %>%
group_by(state) %>%
summarize(
mean_r = mean(r_percent),
mean_d = mean(d_percent),
mean_o = mean(other_percent)
) %>%
mutate(state = fct_reorder(state, mean_r))
ggplot() +
geom_point(data = rep_dem_other, aes(x = state, y = mean_r, color = 'blue')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_d, color = 'red')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_o, color = 'green')) +
theme(axis.text.x = element_text(angle = 80, vjust = 0.95, hjust = 1))
ggplot() +
geom_point(data = rep_dem_other, aes(x = state, y = mean_r, color = 'blue')) +
geom_smooth(color = 'blue')+
geom_point(data = rep_dem_other, aes(x = state, y = mean_d, color = 'red')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_o, color = 'green')) +
theme(axis.text.x = element_text(angle = 80, vjust = 0.95, hjust = 1))
ggplot() +
geom_point(data = rep_dem_other, aes(x = state, y = mean_r, color = 'blue')) +
geom_smooth(fill = 'blue')
data %>%
group_by(year) %>%
summarize(d_ev = sum(d_ev),
r_ev = sum(r_ev),
o_ev = sum(other_ev)
)  %>%
ggplot(
aes(x = year, y = d_ev)) +
geom_line()
geom_point(data = rep_dem_other, aes(x = state, y = mean_d, color = 'red')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_o, color = 'green')) +
theme(axis.text.x = element_text(angle = 80, vjust = 0.95, hjust = 1))
ggplot() +
geom_point(data = rep_dem_other, aes(x = state, y = mean_r, color = 'blue')) +
geom_smooth(fill = 'blue') +
geom_point(data = rep_dem_other, aes(x = state, y = mean_d, color = 'red')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_o, color = 'green')) +
theme(axis.text.x = element_text(angle = 80, vjust = 0.95, hjust = 1))
ggplot() +
geom_point(data = rep_dem_other, aes(x = state, y = mean_r, color = 'blue')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_d, color = 'red')) +
geom_point(data = rep_dem_other, aes(x = state, y = mean_o, color = 'green')) +
theme(axis.text.x = element_text(angle = 80, vjust = 0.95, hjust = 1))
